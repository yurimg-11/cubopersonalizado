<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Modo Educativo - Cubo 3D Interactivo</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; background-color: black; }
    #btn-volver {
      position: absolute;
      top: 10px; left: 10px;
      background: rgba(255,255,255,0.2);
      border: 1px solid white;
      color: white;
      padding: 10px 15px;
      border-radius: 10px;
      cursor: pointer;
      z-index: 10;
      font-family: sans-serif;
    }
    #btn-volver:hover {
      background: white;
      color: black;
    }
    h1 {
      position: absolute;
      top: 10px; width: 100%;
      color: white;
      text-align: center;
      font-family: sans-serif;
      font-size: 22px;
    }
  </style>
</head>

<body>
  <button id="btn-volver" onclick="window.location.href='index.html'">üîô Volver</button>
  <h1>üåê Cubo Educativo Interactivo</h1>

  <a-scene background="color: black">
    <!-- C√°mara -->
    <a-entity camera look-controls position="0 1.6 4"></a-entity>

    <!-- Luces -->
    <a-entity light="type: ambient; color: #ccc"></a-entity>
    <a-entity light="type: directional; intensity: 1" position="1 1 1"></a-entity>

    <!-- üßä Grupo con animaci√≥n -->
    <a-entity id="cubo" rotation="0 0 0" drag-rotate>

      <!-- Frente -->
      <a-plane position="0 0 1" rotation="0 0 0" width="2" height="2"
               material="src: url(imagenes/cerebro.png); side: double;"></a-plane>

      <!-- Atr√°s -->
      <a-plane position="0 0 -1" rotation="0 180 0" width="2" height="2"
               material="src: url(imagenes/planta.jpeg); side: double;"></a-plane>

      <!-- Derecha -->
      <a-plane position="1 0 0" rotation="0 -90 0" width="2" height="2"
               material="src: url(imagenes/motor.jpeg); side: double;"></a-plane>

      <!-- Izquierda -->
      <a-plane position="-1 0 0" rotation="0 90 0" width="2" height="2"
               material="src: url(imagenes/volcan.jpeg); side: double;"></a-plane>

      <!-- Arriba -->
      <a-plane position="0 1 0" rotation="-90 0 0" width="2" height="2"
               material="src: url(imagenes/solar.jpeg); side: double;"></a-plane>

      <!-- Abajo -->
      <a-plane position="0 -1 0" rotation="90 0 0" width="2" height="2"
               material="src: url(imagenes/esqueleto.jpeg); side: double;"></a-plane>
    </a-entity>
  </a-scene>

  <script src="https://unpkg.com/aframe-gesture-detector-component/dist/aframe-gesture-detector-component.min.js"></script>
<script>
  // Permite rotar el cubo con el dedo o mouse
  AFRAME.registerComponent('drag-rotate', {
    schema: { speed: {default: 2} },
    init: function () {
      this.ifMouseDown = false;
      this.x_cord = 0;
      this.y_cord = 0;
      this.el.sceneEl.addEventListener('mousedown', (e) => {
        this.ifMouseDown = true;
        this.x_cord = e.screenX;
        this.y_cord = e.screenY;
      });
      this.el.sceneEl.addEventListener('mouseup', () => this.ifMouseDown = false);
      this.el.sceneEl.addEventListener('mousemove', (e) => {
        if (this.ifMouseDown) {
          let rotation = this.el.getAttribute('rotation');
          rotation.y += (this.x_cord - e.screenX) / this.data.speed;
          rotation.x += (this.y_cord - e.screenY) / this.data.speed;
          this.el.setAttribute('rotation', rotation);
          this.x_cord = e.screenX;
          this.y_cord = e.screenY;
        }
      });
    }
  });
</script>

</body>
</html>
